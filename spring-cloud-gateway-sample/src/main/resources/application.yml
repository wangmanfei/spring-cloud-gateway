test:
#  hostport: httpbin.org:80
#  hostport: localhost:5000
#  uri: http://${test.hostport}
  uri: lb://httpbin


spring:
  jmx:
    enabled: false
  cloud:
    gateway:
      default-filters:
      - PrefixPath=/test
      - AddResponseHeader=X-Response-Default-Foo, Default-Bar

      routes:
      # =====================================
      # to run server
      # $ wscat --listen 9000
      # to run client
      # $ wscat --connect ws://localhost:8080/echo
#      - id: websocket_test
#        uri: http://localhost:8081/
#        order: -1
#        predicates:
#        - Path=/test
      # =====================================
      - id: default_path_to_httpbin
        uri: ${test.uri}
        order: 10000
        predicates:
        - Path=/**
  redis:
    url: http://localhost:6379
    port: 6379

  datasource:
    url: jdbc:mysql://localhost:3306/gateway
    username: root
    password: 123456
    driver-class-name: com.mysql.jdbc.Driver
#公共配置与profiles选择无关 mapperLocations指的路径是src/main/resources
mybatis:
#  typeAliasesPackage: com.xdd.entity
  mapperLocations: classpath:cn/springframework/cloud/gateway/mapper/*.xml

#logging:
#  level:
#    org.springframework.cloud.gateway: TRACE
#    org.springframework.http.server.reactive: DEBUG
#    org.springframework.web.reactive: DEBUG
#    reactor.ipc.netty: DEBUG

management.endpoints.web.exposure.include: '*'
